import News_man from "../assets/img/news_man.png";
import { useEffect, useRef, useState } from "react";
import Footer from "../components/Footer";
import Header from "../components/Header";

import { NewsModal, NewsCard, newsData } from "../components/NewsComponents";

const Carousel = () => {
  const trackRef = useRef(null);
  const cardData = [
    {
      text: '–ù–æ–≤—ã–π –Ω–∞–≤—ã–∫: –°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–π—Ç–æ–≤\n\n\n–ò—Å—Ç–æ—Ä–∏—è: "–ê–Ω–Ω–∞ –Ω–∞—É—á–∏–ª–∞—Å—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∞–π—Ç—ã\n –∑–∞ 2 –Ω–µ–¥–µ–ª–∏ —Å –ø–æ–º–æ—â—å—é –Ω–∞—à–µ–≥–æ –∫—É—Ä—Å–∞\n –ø–æ HTML/CSS."\n\n\n–†–µ–∑—É–ª—å—Ç–∞—Ç: "–°–æ–∑–¥–∞–ª–∞ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —Å–∞–π—Ç –¥–ª—è\n –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –∏ –ø–æ–ª—É—á–∏–ª–∞ –ø–µ—Ä–≤—É—é —Ä–∞–±–æ—Ç—É\n —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä–∞!"',
      color: "rgba(126, 82, 255, 1)",
    },
    {
      text: '–ù–æ–≤—ã–π –Ω–∞–≤—ã–∫: –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫\n\n\n–ò—Å—Ç–æ—Ä–∏—è: "–ú–∞–∫—Å–∏–º –ø–æ–≤—ã—Å–∏–ª —Å–≤–æ–π —É—Ä–æ–≤–µ–Ω—å\n –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –¥–æ B2 –∏ –Ω–∞—á–∞–ª –æ–±—â–∞—Ç—å—Å—è —Å\n –∏–Ω–æ—Å—Ç—Ä–∞–Ω—Ü–∞–º–∏ –±–µ–∑ —Å—Ç—Ä–∞—Ö–∞."\n\n\n–†–µ–∑—É–ª—å—Ç–∞—Ç: "–ü–æ–ª—É—á–∏–ª –ø–æ–≤—ã—à–µ–Ω–∏–µ –±–ª–∞–≥–æ–¥–∞—Ä—è\n –∑–Ω–∞–Ω–∏—é —è–∑—ã–∫–∞ –Ω–∞ —Ä–∞–±–æ—Ç–µ!"',
      color: "rgba(255, 165, 0, 1)",
    },
    {
      text: '–ù–æ–≤—ã–π –Ω–∞–≤—ã–∫: –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Python\n\n\n–ò—Å—Ç–æ—Ä–∏—è: "–ï–≤–≥–µ–Ω–∏–π –æ—Å–≤–æ–∏–ª –æ—Å–Ω–æ–≤—ã\n –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Python –¥–ª—è —Å–≤–æ–µ–≥–æ\n –±—É–¥—É—â–µ–≥–æ"\n\n\n–†–µ–∑—É–ª—å—Ç–∞—Ç: "–ó–∞—Ä–∞–±–æ—Ç–∞–ª –ø–µ—Ä–≤—ã–µ –¥–µ–Ω—å–≥–∏ –Ω–∞ —Å–≤–æ–µ–º\n —Ö–æ–±–±–∏!"',
      color: "rgba(12, 150, 156, 1)",
    },
    {
      text: '–ù–æ–≤—ã–π –Ω–∞–≤—ã–∫: –†–∞–±–æ—Ç–∞ —Å AI\n\n\n–ò—Å—Ç–æ—Ä–∏—è: "–î–º–∏—Ç—Ä–∏–π –∏–∑—É—á–∏–ª –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã\n —Å –∏—Å–∫—É—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω–µ—Ç–µ–ª–∫—Ç–æ–º"\n\n\n–†–µ–∑—É–ª—å—Ç–∞—Ç: "–ù–∞—É—á–∏–ª—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å\n —Å –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º–∏"',
      color: "rgba(255, 64, 64, 1)",
    },
    {
      text: '–ù–æ–≤—ã–π –Ω–∞–≤—ã–∫: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏\n –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö —Å–µ—Ç–µ–π\n\n\n–ò—Å—Ç–æ—Ä–∏—è: "–¢–∞—Ç—å—è–Ω–∞ –∏–∑—É—á–∏–ª–∞ –æ—Å–Ω–æ–≤—ã —Å–µ—Ç–µ–≤—ã—Ö\n –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∞ –ª–æ–∫–∞–ª—å–Ω—É—é\n —Å–µ—Ç—å –≤ –¥–æ–º–µ"\n\n\n–†–µ–∑—É–ª—å—Ç–∞—Ç: "–ü–æ–ª—É—á–∏–ª–∞ –Ω–∞–≤—ã–∫–∏ —Ä–∞–±–æ—Ç—ã —Å\n TCP/IP, DHCP –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π —Ç—Ä–∞—Ñ–∏–∫–∞"',
      color: "rgba(126, 82, 255, 1)",
    },
    {
      text: '–ù–æ–≤—ã–π –Ω–∞–≤—ã–∫: –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ React\n\n\n–ò—Å—Ç–æ—Ä–∏—è: "–ú–∞—Ç–≤–µ–π –æ—Å–≤–æ–∏–ª –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã\n –Ω–∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–µ React"\n\n\n–†–µ–∑—É–ª—å—Ç–∞—Ç: "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ React"',
      color: "rgba(255, 165, 0, 1)",
    },
    {
      text: '–ù–∞–≤—ã–∫: –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –∏ —á–∏—Å–ª–µ–Ω–Ω—ã–µ\n –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Python\n\n\n–ò—Å—Ç–æ—Ä–∏—è: "–û–ª—å–≥–∞ –Ω–∞–ø–∏—Å–∞–ª–∞ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞\n –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é Python\n –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ numpy"\n\n\n–†–µ–∑—É–ª—å—Ç–∞—Ç: "–ù–∞—É—á–∏–ª–∞—Å—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–Ω–æ–≥–æ–º–µ—Ä–Ω—ã–º–∏\n –º–∞—Å—Å–∏–≤–∞–º–∏ –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å —á–∏—Å–ª–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è\n –¥–ª—è –Ω–∞—É—á–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π"',
      color: "rgba(12, 150, 156, 1)",
    },
    {
      text: '–ù–æ–≤—ã–µ –Ω–∞–≤—ã–∫: –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ React\n\n\n–ò—Å—Ç–æ—Ä–∏—è: "–°–µ—Ä–≥–µ–π –∏–∑—É—á–∏–ª –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã\n —Å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º React"\n\n\n–†–µ–∑—É–ª—å—Ç–∞—Ç: "–í—Å—ë —Ä–∞–±–æ—Ç–∞–ª–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –°–µ—Ä–≥–µ–π –∏–∑—É—á–∞–ª\n –∫—É—Ä—Å—ã SkillSphere!"',
      color: "rgba(255, 64, 64, 1)",
    },
  ];

  useEffect(() => {
    const track = trackRef.current;
    if (!track) return;

    const items = Array.from(track.children);

    // –î—É–±–ª–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
    items.forEach((item) => {
      const clone = item.cloneNode(true);
      track.appendChild(clone);
    });
  }, []);

  return (
    <>
      <h1
        style={{
          textAlign: "center",
          fontFamily: "montserat_bold",
          fontSize: "2.3rem",
        }}
      >
        –ß—Ç–æ —É–º–µ—é—Ç –Ω–∞—à–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏!
      </h1>
      <div className="carousel-container">
        <div className="carousel-track" ref={trackRef}>
          {cardData.map((card, index) => (
            <div
              key={index}
              className="carousel-item"
              style={{ backgroundColor: card.color }}
            >
              {card.text.split("\n").map((line, lineIndex) => (
                <p key={lineIndex}>{line}</p>
              ))}
            </div>
          ))}
        </div>
      </div>
    </>
  );
};

const News = () => {
  const [selectedNews, setSelectedNews] = useState(null);
  const [isModalOpen, setIsModalOpen] = useState(false);

  const handleReadMore = (news) => {
    setSelectedNews(news);
    setIsModalOpen(true);
  };

  const handleCloseModal = () => {
    setIsModalOpen(false);
    setSelectedNews(null);
  };

  return (
    <>
      <Header />

      <div className="newsCards">
        {newsData.map((news) => (
          <NewsCard key={news.id} news={news} onReadMore={handleReadMore} />
        ))}
      </div>

      {selectedNews && (
        <NewsModal
          news={selectedNews}
          isOpen={isModalOpen}
          onClose={handleCloseModal}
        />
      )}

      <div className="course-announcement">
        <div className="course-text">
          <p>
            üëã{" "}
            <strong>
              –ù–æ–≤—ã–µ –∫—É—Ä—Å—ã —É–∂–µ –Ω–∞ SkillSphere! –ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è —É—á–∏—Ç—å—Å—è —á–µ–º—É-—Ç–æ
              –Ω–æ–≤–æ–º—É!
            </strong>
          </p>
          <p>
            –ú—ã —Ä–∞–¥—ã —Å–æ–æ–±—â–∏—Ç—å, —á—Ç–æ —Ä–∞–∑–¥–µ–ª –ö—É—Ä—Å—ã –ø–æ–ø–æ–ª–Ω–∏–ª—Å—è —Å–≤–µ–∂–∏–º–∏ –∏
            —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ –¥–ª—è —Å–∞–º–æ—Ä–∞–∑–≤–∏—Ç–∏—è! –ù–∞–ø—Ä–∏–º–µ—Ä:
          </p>
          <ul>
            <li>
              –ò–∑—É—á–∞–π—Ç–µ –æ—Å–Ω–æ–≤—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å –Ω–∞—à–∏–º–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —É—Ä–æ–∫–∞–º–∏.
            </li>
            <li>
              –ü–æ–≥—Ä—É–∂–∞–π—Ç–µ—Å—å –≤ –º–∏—Ä –¥–∏–∑–∞–π–Ω–∞ –∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–≤–æ–∏ –ø–µ—Ä–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã.
            </li>
            <li>–û—Å–≤–∞–∏–≤–∞–π—Ç–µ –ø–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ª–∏—á–Ω–æ–π –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.</li>
          </ul>
          <p>
            –í—Å–µ –∫—É—Ä—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –∏ –Ω–∞—á–∞—Ç—å –º–æ–∂–Ω–æ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å ‚Äî –±–µ–∑
            –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏. –ü—Ä–æ—Å—Ç–æ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ, —á—Ç–æ –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∏ –ø–æ–≥—Ä—É–∑–∏—Ç–µ—Å—å –≤
            —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è!
          </p>
          <p>
            <strong>
              –ù–µ —É–ø—É—Å—Ç–∏—Ç–µ —à–∞–Ω—Å —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è ‚Äî –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª –ö—É—Ä—Å—ã
              –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π –ø—É—Ç—å –∫ –Ω–æ–≤—ã–º –Ω–∞–≤—ã–∫–∞–º!
            </strong>
          </p>
        </div>
        <div className="news_man">
          <img src={News_man} alt="Business Man" />
        </div>
      </div>

      <Carousel />
      <Footer />
    </>
  );
};

export default News;
